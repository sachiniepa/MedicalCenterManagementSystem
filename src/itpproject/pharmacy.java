/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 *http://google.com/settings/security/lesssecureapps
 */
package itpproject;

import java.awt.Color;
import java.sql.Connection;
import java.sql.Date;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.logging.Level;
import java.util.logging.Logger;
import net.proteanit.sql.DbUtils;
import java.text.SimpleDateFormat;
import java.text.*;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
import javax.swing.*;
import java.util.*;
import javax.mail.*;
import javax.mail.internet.*;
import javax.mail.internet.MimeMessage;
import net.sf.jasperreports.engine.JasperCompileManager;
import net.sf.jasperreports.engine.JasperFillManager;
import net.sf.jasperreports.engine.JasperPrint;
import net.sf.jasperreports.engine.JasperReport;
import net.sf.jasperreports.view.JasperViewer;
import org.jfree.chart.ChartFactory;
import org.jfree.chart.ChartFrame;
import org.jfree.chart.JFreeChart;
import org.jfree.chart.plot.CategoryPlot;
import org.jfree.chart.plot.PlotOrientation;
import org.jfree.data.category.DefaultCategoryDataset;

/**
 *
 * @author HP User
 */
public class pharmacy extends javax.swing.JInternalFrame {
    DefaultListModel dm = new DefaultListModel();
    
    Connection conn = null;
    PreparedStatement pst = null;
    ResultSet rs = null;
    /**
     * Creates new form pharmacy
     */
    public pharmacy() {
        initComponents();
        
        conn = DBconnect.getConnection();
        
        filldCombo();
        jLabel12.setVisible(false);
        jLabel19.setVisible(false);
        jLabel23.setVisible(false);
        jButton2.setEnabled(false);
        jButton3.setEnabled(false);    
       /* jTextField7.setVisible(false);
        jTextField8.setVisible(false);
        jTextField17.setVisible(false);
        jTextField18.setVisible(false);*/
        jLabel39.setVisible(false);
        jLabel40.setVisible(false);
        jLabel41.setVisible(false);
        jLabel42.setVisible(false);
        tbLoad();
        ordertbLoad();
        tbLoad2();
        fillCombo3();
        
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel1 = new javax.swing.JPanel();
        jPanel3 = new javax.swing.JPanel();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jTextField4 = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        jTextField6 = new javax.swing.JTextField();
        jLabel18 = new javax.swing.JLabel();
        jTextField14 = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        jTextField10 = new javax.swing.JTextField();
        jLabel9 = new javax.swing.JLabel();
        jTextField9 = new javax.swing.JTextField();
        jComboBox4 = new javax.swing.JComboBox<>();
        jLabel44 = new javax.swing.JLabel();
        jTextField19 = new javax.swing.JTextField();
        jLabel22 = new javax.swing.JLabel();
        jPanel11 = new javax.swing.JPanel();
        jLabel8 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        jButton13 = new javax.swing.JButton();
        jComboBox3 = new javax.swing.JComboBox<>();
        jDateChooser1 = new com.toedter.calendar.JDateChooser();
        jDateChooser2 = new com.toedter.calendar.JDateChooser();
        jTextField20 = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        jTextField2 = new javax.swing.JTextField();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        jButton5 = new javax.swing.JButton();
        jScrollPane2 = new javax.swing.JScrollPane();
        jTable2 = new javax.swing.JTable();
        jTextField3 = new javax.swing.JTextField();
        jLabel19 = new javax.swing.JLabel();
        jScrollPane3 = new javax.swing.JScrollPane();
        jTable3 = new javax.swing.JTable();
        jLabel34 = new javax.swing.JLabel();
        jTextField1 = new javax.swing.JTextField();
        jComboBox5 = new javax.swing.JComboBox<>();
        jLabel28 = new javax.swing.JLabel();
        jLabel43 = new javax.swing.JLabel();
        jComboBox6 = new javax.swing.JComboBox<>();
        jButton17 = new javax.swing.JButton();
        jButton18 = new javax.swing.JButton();
        jButton19 = new javax.swing.JButton();
        jPanel2 = new javax.swing.JPanel();
        jPanel4 = new javax.swing.JPanel();
        jLabel13 = new javax.swing.JLabel();
        jComboBox1 = new javax.swing.JComboBox<>();
        jLabel14 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jTextField12 = new javax.swing.JTextField();
        jTextField13 = new javax.swing.JTextField();
        jButton14 = new javax.swing.JButton();
        jLabel12 = new javax.swing.JLabel();
        jLabel23 = new javax.swing.JLabel();
        jPanel5 = new javax.swing.JPanel();
        jLabel16 = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        jButton6 = new javax.swing.JButton();
        jButton12 = new javax.swing.JButton();
        jComboBox2 = new javax.swing.JComboBox<>();
        jDateChooser10 = new com.toedter.calendar.JDateChooser();
        jPanel6 = new javax.swing.JPanel();
        jScrollPane4 = new javax.swing.JScrollPane();
        jList1 = new javax.swing.JList<>();
        jLabel35 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        jList2 = new javax.swing.JList<>();
        jLabel36 = new javax.swing.JLabel();
        jTextField11 = new javax.swing.JTextField();
        jLabel37 = new javax.swing.JLabel();
        jTextField15 = new javax.swing.JTextField();
        jButton4 = new javax.swing.JButton();
        jButton7 = new javax.swing.JButton();
        jButton15 = new javax.swing.JButton();
        jLabel38 = new javax.swing.JLabel();
        jScrollPane5 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        jTextField5 = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        jTextField16 = new javax.swing.JTextField();
        jLabel39 = new javax.swing.JLabel();
        jTextField7 = new javax.swing.JTextField();
        jLabel40 = new javax.swing.JLabel();
        jTextField8 = new javax.swing.JTextField();
        jLabel41 = new javax.swing.JLabel();
        jTextField17 = new javax.swing.JTextField();
        jLabel42 = new javax.swing.JLabel();
        jTextField18 = new javax.swing.JTextField();
        jScrollPane6 = new javax.swing.JScrollPane();
        jTable4 = new javax.swing.JTable();
        jLabel24 = new javax.swing.JLabel();
        jPanel7 = new javax.swing.JPanel();
        jPanel8 = new javax.swing.JPanel();
        jButton9 = new javax.swing.JButton();
        jLabel31 = new javax.swing.JLabel();
        jSeparator1 = new javax.swing.JSeparator();
        jLabel27 = new javax.swing.JLabel();
        jButton11 = new javax.swing.JButton();
        jLabel30 = new javax.swing.JLabel();
        jComboBox7 = new javax.swing.JComboBox<>();
        jPanel9 = new javax.swing.JPanel();
        jButton10 = new javax.swing.JButton();

        setBackground(new java.awt.Color(255, 255, 255));
        setPreferredSize(new java.awt.Dimension(964, 592));

        jTabbedPane1.setBackground(new java.awt.Color(255, 255, 255));
        jTabbedPane1.setFont(new java.awt.Font("Segoe UI Symbol", 1, 14)); // NOI18N

        jPanel1.setBackground(new java.awt.Color(255, 255, 255));

        jPanel3.setBackground(new java.awt.Color(255, 255, 255));
        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Drug Details", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 13))); // NOI18N

        jLabel4.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel4.setText("Drug name");

        jLabel5.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel5.setText("Drug type");

        jTextField4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField4ActionPerformed(evt);
            }
        });

        jLabel6.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel6.setText("Manufacturer");

        jLabel18.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel18.setText("Marginal Level");

        jTextField14.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField14ActionPerformed(evt);
            }
        });

        jLabel3.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel3.setText("Drug Code");

        jLabel9.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel9.setText("Unit price");

        jComboBox4.setFont(new java.awt.Font("Segoe UI Symbol", 0, 12)); // NOI18N
        jComboBox4.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Liquid", "Tablet", "Capsule", "Suppositories", "Drops", "Inhalers", "Buccal" }));

        jLabel44.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel44.setText("Chemical Name");

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGap(33, 33, 33)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel4)
                    .addComponent(jLabel5)
                    .addComponent(jLabel6)
                    .addComponent(jLabel18)
                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 83, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel9)
                    .addComponent(jLabel44))
                .addGap(41, 41, 41)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jTextField14, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jTextField6)
                    .addComponent(jTextField9, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jTextField10, javax.swing.GroupLayout.DEFAULT_SIZE, 135, Short.MAX_VALUE)
                    .addComponent(jTextField4)
                    .addComponent(jComboBox4, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jTextField19))
                .addGap(130, 130, 130))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3)
                    .addComponent(jTextField10, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextField4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel44, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jTextField19, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel5)
                    .addComponent(jComboBox4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextField6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel6))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel18)
                    .addComponent(jTextField14, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel9)
                    .addComponent(jTextField9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
        );

        jLabel22.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Image/icons8_Search_26px_1.png"))); // NOI18N
        jLabel22.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jLabel22MouseClicked(evt);
            }
        });

        jPanel11.setBackground(new java.awt.Color(255, 255, 255));
        jPanel11.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Recieved Order Details", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI Symbol", 1, 14))); // NOI18N

        jLabel8.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel8.setText("Quantity");

        jLabel10.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel10.setText("Date of purchase");

        jLabel11.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel11.setText("Date of expiry");

        jLabel1.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel1.setText("Order code");

        jButton13.setBackground(new java.awt.Color(0, 31, 82));
        jButton13.setFont(new java.awt.Font("Segoe UI Symbol", 1, 12)); // NOI18N
        jButton13.setForeground(new java.awt.Color(255, 255, 255));
        jButton13.setText("View");
        jButton13.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton13ActionPerformed(evt);
            }
        });

        jComboBox3.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "----" }));

        javax.swing.GroupLayout jPanel11Layout = new javax.swing.GroupLayout(jPanel11);
        jPanel11.setLayout(jPanel11Layout);
        jPanel11Layout.setHorizontalGroup(
            jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addGap(56, 56, 56)
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel10)
                    .addComponent(jLabel11)
                    .addComponent(jLabel1)
                    .addComponent(jLabel8))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 23, Short.MAX_VALUE)
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jComboBox3, 0, 134, Short.MAX_VALUE)
                    .addComponent(jDateChooser1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jDateChooser2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jTextField20))
                .addGap(79, 79, 79))
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addGap(135, 135, 135)
                .addComponent(jButton13, javax.swing.GroupLayout.PREFERRED_SIZE, 71, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel11Layout.setVerticalGroup(
            jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel11Layout.createSequentialGroup()
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jLabel1)
                        .addGap(38, 38, 38))
                    .addGroup(jPanel11Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jComboBox3, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jButton13, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addGap(26, 26, 26)
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel8)
                    .addComponent(jTextField20, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel10)
                    .addComponent(jDateChooser1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel11)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel11Layout.createSequentialGroup()
                        .addComponent(jDateChooser2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap())))
        );

        jLabel2.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel2.setText("Drug name");

        jButton1.setBackground(new java.awt.Color(0, 31, 82));
        jButton1.setFont(new java.awt.Font("Segoe UI Symbol", 1, 12)); // NOI18N
        jButton1.setForeground(new java.awt.Color(255, 255, 255));
        jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/icons8_Add_32px.png"))); // NOI18N
        jButton1.setText("Add to Inventory");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jButton2.setBackground(new java.awt.Color(0, 31, 82));
        jButton2.setFont(new java.awt.Font("Segoe UI Symbol", 1, 12)); // NOI18N
        jButton2.setForeground(new java.awt.Color(255, 255, 255));
        jButton2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/icons8_Edit_32px_1.png"))); // NOI18N
        jButton2.setText("Update Inventory");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        jButton3.setBackground(new java.awt.Color(0, 31, 82));
        jButton3.setFont(new java.awt.Font("Segoe UI Symbol", 1, 12)); // NOI18N
        jButton3.setForeground(new java.awt.Color(255, 255, 255));
        jButton3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/icons8_Delete_32px.png"))); // NOI18N
        jButton3.setText("Delete from Inventory");
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });

        jButton5.setBackground(new java.awt.Color(0, 31, 82));
        jButton5.setFont(new java.awt.Font("Segoe UI Symbol", 1, 12)); // NOI18N
        jButton5.setForeground(new java.awt.Color(255, 255, 255));
        jButton5.setText("Check");
        jButton5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton5ActionPerformed(evt);
            }
        });

        jTable2.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        jTable2.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTable2MouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(jTable2);

        jTextField3.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextField3KeyReleased(evt);
            }
        });

        jLabel19.setForeground(new java.awt.Color(255, 0, 0));
        jLabel19.setText("    No drug found");

        jTable3.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        jTable3.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTable3MouseClicked(evt);
            }
        });
        jScrollPane3.setViewportView(jTable3);

        jLabel34.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Image/icons8_Search_26px_1.png"))); // NOI18N
        jLabel34.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jLabel34MouseClicked(evt);
            }
        });

        jTextField1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField1ActionPerformed(evt);
            }
        });
        jTextField1.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextField1KeyReleased(evt);
            }
        });

        jComboBox5.setFont(new java.awt.Font("Segoe UI Symbol", 0, 12)); // NOI18N
        jComboBox5.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Liquid", "Tablet", "Capsule", "Suppositories", "Drops", "Inhalers", "Buccal" }));
        jComboBox5.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jComboBox5ItemStateChanged(evt);
            }
        });

        jLabel28.setFont(new java.awt.Font("Segoe UI Symbol", 0, 12)); // NOI18N
        jLabel28.setText("Type");

        jLabel43.setText("Status");

        jComboBox6.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Incomplete", "Recieved" }));
        jComboBox6.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jComboBox6ItemStateChanged(evt);
            }
        });

        jButton17.setBackground(new java.awt.Color(0, 31, 82));
        jButton17.setFont(new java.awt.Font("Segoe UI Symbol", 1, 14)); // NOI18N
        jButton17.setForeground(new java.awt.Color(255, 255, 255));
        jButton17.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/icons8_Reset_32px.png"))); // NOI18N
        jButton17.setText("Reset");
        jButton17.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton17ActionPerformed(evt);
            }
        });

        jButton18.setBackground(new java.awt.Color(0, 31, 82));
        jButton18.setFont(new java.awt.Font("Segoe UI Symbol", 1, 12)); // NOI18N
        jButton18.setForeground(new java.awt.Color(255, 255, 255));
        jButton18.setText("Inventory Analysis");
        jButton18.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/images/icons8_Bar_Chart_50px_1.png"))); // NOI18N
        jButton18.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton18ActionPerformed(evt);
            }
        });

        jButton19.setBackground(new java.awt.Color(0, 31, 82));
        jButton19.setFont(new java.awt.Font("Segoe UI Symbol", 1, 12)); // NOI18N
        jButton19.setForeground(new java.awt.Color(255, 255, 255));
        jButton19.setText("Demo");
        jButton19.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton19ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(jTextField3, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jLabel34)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jLabel28)
                        .addGap(18, 18, 18)
                        .addComponent(jComboBox5, javax.swing.GroupLayout.PREFERRED_SIZE, 127, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addComponent(jButton18, javax.swing.GroupLayout.PREFERRED_SIZE, 186, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(25, 25, 25))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 137, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jLabel22)
                                .addGap(37, 37, 37)
                                .addComponent(jLabel43)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jComboBox6, javax.swing.GroupLayout.PREFERRED_SIZE, 190, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(60, 60, 60))))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(19, 19, 19)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(jLabel2)
                        .addGap(18, 18, 18)
                        .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(29, 29, 29)
                        .addComponent(jButton5, javax.swing.GroupLayout.PREFERRED_SIZE, 101, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jLabel19, javax.swing.GroupLayout.PREFERRED_SIZE, 176, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(jButton1)
                                .addGap(44, 44, 44)
                                .addComponent(jButton2))
                            .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jPanel11, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGap(36, 36, 36)
                                .addComponent(jButton3)
                                .addGap(38, 38, 38)
                                .addComponent(jButton17, javax.swing.GroupLayout.PREFERRED_SIZE, 118, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(jButton19)))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(9, 9, 9)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel2)
                            .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jButton5, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel19)))
                    .addComponent(jButton18, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel22, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextField3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel34, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jComboBox5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel28))
                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel43)
                        .addComponent(jComboBox6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 104, Short.MAX_VALUE)
                    .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
                .addGap(11, 11, 11)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(jPanel11, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGap(21, 21, 21))
                    .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jButton2)
                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jButton3)
                        .addComponent(jButton17, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jButton19, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jButton1))
                .addGap(548, 548, 548))
        );

        jTabbedPane1.addTab("Add Drugs", jPanel1);

        jPanel2.setBackground(new java.awt.Color(255, 255, 255));

        jPanel4.setBackground(new java.awt.Color(255, 255, 255));
        jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Patient Details", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 13))); // NOI18N
        jPanel4.setFont(new java.awt.Font("Segoe UI Symbol", 0, 11)); // NOI18N

        jLabel13.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel13.setText("Patient status");

        jComboBox1.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "-----", "Registered", "Unregistered" }));
        jComboBox1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBox1ActionPerformed(evt);
            }
        });

        jLabel14.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel14.setText("Patient code");

        jLabel15.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel15.setText("Patient name");

        jButton14.setBackground(new java.awt.Color(0, 31, 82));
        jButton14.setFont(new java.awt.Font("Segoe UI Symbol", 1, 12)); // NOI18N
        jButton14.setForeground(new java.awt.Color(255, 255, 255));
        jButton14.setText("View");
        jButton14.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/images/icons8_Eye_50px.png"))); // NOI18N
        jButton14.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton14ActionPerformed(evt);
            }
        });

        jLabel12.setForeground(new java.awt.Color(255, 0, 0));
        jLabel12.setText("    Invalid Patient Code");

        jLabel23.setForeground(new java.awt.Color(255, 0, 0));
        jLabel23.setText("Enter a ptient Code");

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel14)
                    .addComponent(jLabel15)
                    .addComponent(jLabel13, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jTextField12, javax.swing.GroupLayout.DEFAULT_SIZE, 130, Short.MAX_VALUE)
                    .addComponent(jTextField13)
                    .addComponent(jComboBox1, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(33, Short.MAX_VALUE))
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(jLabel23)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel12, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGap(69, 69, 69)
                .addComponent(jButton14, javax.swing.GroupLayout.PREFERRED_SIZE, 116, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGap(16, 16, 16)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextField13, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel14))
                .addGap(18, 18, 18)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel12)
                    .addComponent(jLabel23))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jButton14, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(16, 16, 16)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel13))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel15)
                    .addComponent(jTextField12, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(18, Short.MAX_VALUE))
        );

        jPanel5.setBackground(new java.awt.Color(255, 255, 255));
        jPanel5.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Prescription details", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 13))); // NOI18N
        jPanel5.setFont(new java.awt.Font("Segoe UI Symbol", 0, 11)); // NOI18N

        jLabel16.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel16.setText("Prescription date");

        jLabel17.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel17.setText("Prescription No.");

        jButton6.setBackground(new java.awt.Color(0, 31, 82));
        jButton6.setFont(new java.awt.Font("Segoe UI Symbol", 1, 12)); // NOI18N
        jButton6.setForeground(new java.awt.Color(255, 255, 255));
        jButton6.setText("Get prescriptions");
        jButton6.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/images/icons8_Search_26px_2.png"))); // NOI18N
        jButton6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton6ActionPerformed(evt);
            }
        });

        jButton12.setBackground(new java.awt.Color(0, 31, 82));
        jButton12.setFont(new java.awt.Font("Segoe UI Symbol", 1, 12)); // NOI18N
        jButton12.setForeground(new java.awt.Color(255, 255, 255));
        jButton12.setText("See Drugs");
        jButton12.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/images/icons8_Menu_32px.png"))); // NOI18N
        jButton12.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton12ActionPerformed(evt);
            }
        });

        jComboBox2.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "----" }));

        jDateChooser10.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                jDateChooser10PropertyChange(evt);
            }
        });

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel16)
                            .addComponent(jLabel17))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jComboBox2, 0, 130, Short.MAX_VALUE)
                            .addComponent(jDateChooser10, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(50, 50, 50)
                        .addComponent(jButton6, javax.swing.GroupLayout.PREFERRED_SIZE, 163, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(47, 47, 47)
                        .addComponent(jButton12, javax.swing.GroupLayout.PREFERRED_SIZE, 164, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(19, Short.MAX_VALUE))
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel16)
                    .addComponent(jDateChooser10, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(14, 14, 14)
                .addComponent(jButton6, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel17)
                    .addComponent(jComboBox2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(jButton12, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(28, Short.MAX_VALUE))
        );

        jPanel6.setBackground(new java.awt.Color(255, 255, 255));
        jPanel6.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Drug Details", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 13))); // NOI18N
        jPanel6.setFont(new java.awt.Font("Segoe UI Symbol", 0, 11)); // NOI18N

        jList1.addListSelectionListener(new javax.swing.event.ListSelectionListener() {
            public void valueChanged(javax.swing.event.ListSelectionEvent evt) {
                jList1ValueChanged(evt);
            }
        });
        jScrollPane4.setViewportView(jList1);

        jLabel35.setFont(new java.awt.Font("Segoe UI Symbol", 1, 12)); // NOI18N
        jLabel35.setText("  Prescribed drugs");

        jScrollPane1.setViewportView(jList2);

        jLabel36.setFont(new java.awt.Font("Segoe UI Symbol", 0, 13)); // NOI18N
        jLabel36.setText("Drug Code");

        jTextField11.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jTextField11.setBorder(null);
        jTextField11.setPreferredSize(new java.awt.Dimension(4, 18));
        jTextField11.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField11ActionPerformed(evt);
            }
        });

        jLabel37.setFont(new java.awt.Font("Segoe UI Symbol", 0, 13)); // NOI18N
        jLabel37.setText("Quantity Issued");

        jTextField15.setMinimumSize(null);

        jButton4.setBackground(new java.awt.Color(0, 31, 82));
        jButton4.setFont(new java.awt.Font("Segoe UI Symbol", 1, 12)); // NOI18N
        jButton4.setForeground(new java.awt.Color(255, 255, 255));
        jButton4.setText("Add");
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });

        jButton7.setBackground(new java.awt.Color(0, 31, 82));
        jButton7.setFont(new java.awt.Font("Segoe UI Symbol", 1, 12)); // NOI18N
        jButton7.setForeground(new java.awt.Color(255, 255, 255));
        jButton7.setText("Delete");
        jButton7.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton7ActionPerformed(evt);
            }
        });

        jButton15.setBackground(new java.awt.Color(0, 31, 82));
        jButton15.setFont(new java.awt.Font("Segoe UI Symbol", 1, 12)); // NOI18N
        jButton15.setForeground(new java.awt.Color(255, 255, 255));
        jButton15.setText("Issue");
        jButton15.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton15ActionPerformed(evt);
            }
        });

        jLabel38.setFont(new java.awt.Font("Segoe UI Symbol", 1, 12)); // NOI18N
        jLabel38.setText("Issued drugs");

        jTable1.setAutoCreateRowSorter(true);
        jTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        jTable1.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        jScrollPane5.setViewportView(jTable1);

        jTextField5.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jTextField5.setBorder(null);
        jTextField5.setPreferredSize(new java.awt.Dimension(4, 18));

        jLabel7.setFont(new java.awt.Font("Segoe UI Symbol", 0, 13)); // NOI18N
        jLabel7.setText("Drug Name ");

        jLabel20.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel20.setText("Doctor");

        jLabel39.setFont(new java.awt.Font("Segoe UI Symbol", 0, 13)); // NOI18N
        jLabel39.setText("No of days");

        jTextField7.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jTextField7.setBorder(null);

        jLabel40.setFont(new java.awt.Font("Segoe UI Symbol", 0, 13)); // NOI18N
        jLabel40.setText("Morning");

        jTextField8.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jTextField8.setBorder(null);
        jTextField8.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField8ActionPerformed(evt);
            }
        });

        jLabel41.setFont(new java.awt.Font("Segoe UI Symbol", 0, 13)); // NOI18N
        jLabel41.setText("Afternoon");

        jTextField17.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jTextField17.setBorder(null);

        jLabel42.setFont(new java.awt.Font("Segoe UI Symbol", 0, 13)); // NOI18N
        jLabel42.setText("Night");

        jTextField18.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jTextField18.setBorder(null);

        jTable4.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null}
            },
            new String [] {
                "Recommended", "Alternative", "Quantity"
            }
        ));
        jTable4.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTable4MouseClicked(evt);
            }
        });
        jScrollPane6.setViewportView(jTable4);

        jLabel24.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel24.setText("Alternatives");

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGap(19, 19, 19)
                        .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel6Layout.createSequentialGroup()
                                .addComponent(jLabel20)
                                .addGap(10, 10, 10)
                                .addComponent(jTextField16, javax.swing.GroupLayout.PREFERRED_SIZE, 244, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel6Layout.createSequentialGroup()
                                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel36)
                                    .addComponent(jLabel7)
                                    .addComponent(jLabel37)
                                    .addGroup(jPanel6Layout.createSequentialGroup()
                                        .addGap(9, 9, 9)
                                        .addComponent(jButton4, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addGap(18, 18, 18)
                                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jTextField11, javax.swing.GroupLayout.PREFERRED_SIZE, 113, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jTextField5, javax.swing.GroupLayout.PREFERRED_SIZE, 113, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jTextField15, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jButton7, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(25, 25, 25)
                                .addComponent(jButton15, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(10, 10, 10)
                                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel39)
                                    .addComponent(jLabel40)
                                    .addComponent(jLabel41)
                                    .addComponent(jLabel42))
                                .addGap(15, 15, 15)
                                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jTextField7, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jTextField8, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jTextField17, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jTextField18, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, 478, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel6Layout.createSequentialGroup()
                                .addGap(15, 15, 15)
                                .addComponent(jLabel35))
                            .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 149, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(6, 6, 6)
                        .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel6Layout.createSequentialGroup()
                                .addGap(20, 20, 20)
                                .addComponent(jLabel38, javax.swing.GroupLayout.PREFERRED_SIZE, 83, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(107, 107, 107)
                                .addComponent(jLabel24))
                            .addGroup(jPanel6Layout.createSequentialGroup()
                                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 144, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jScrollPane6, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                .addGap(19, 19, 19))
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel20, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGap(5, 5, 5)
                        .addComponent(jTextField16, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel35, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGap(20, 20, 20)
                        .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 160, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel38)
                            .addComponent(jLabel24))
                        .addGap(4, 4, 4)
                        .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jScrollPane6, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                            .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 160, Short.MAX_VALUE))))
                .addGap(17, 17, 17)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addComponent(jLabel36)
                        .addGap(7, 7, 7)
                        .addComponent(jLabel7)
                        .addGap(7, 7, 7)
                        .addComponent(jLabel37)
                        .addGap(14, 14, 14)
                        .addComponent(jButton4))
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGap(1, 1, 1)
                        .addComponent(jTextField11, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(7, 7, 7)
                        .addComponent(jTextField5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(6, 6, 6)
                        .addComponent(jTextField15, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(12, 12, 12)
                        .addComponent(jButton7))
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGap(59, 59, 59)
                        .addComponent(jButton15, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGap(9, 9, 9)
                        .addComponent(jLabel39)
                        .addGap(2, 2, 2)
                        .addComponent(jLabel40)
                        .addGap(12, 12, 12)
                        .addComponent(jLabel41)
                        .addGap(12, 12, 12)
                        .addComponent(jLabel42))
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGap(9, 9, 9)
                        .addComponent(jTextField7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(15, 15, 15)
                        .addComponent(jTextField8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(5, 5, 5)
                        .addComponent(jTextField17, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(15, 15, 15)
                        .addComponent(jTextField18, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(11, 11, 11)
                .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, 142, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addGap(9, 9, 9)
                        .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(18, 18, 18)
                .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, 519, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(38, 38, 38)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, 518, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jTabbedPane1.addTab("Issue Drugs", jPanel2);

        jPanel7.setBackground(new java.awt.Color(255, 255, 255));

        jPanel8.setBackground(new java.awt.Color(255, 255, 255));
        jPanel8.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Issued Drugs", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI Symbol", 1, 14))); // NOI18N

        jButton9.setBackground(new java.awt.Color(0, 31, 82));
        jButton9.setFont(new java.awt.Font("Segoe UI Symbol", 1, 14)); // NOI18N
        jButton9.setForeground(new java.awt.Color(255, 255, 255));
        jButton9.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/icons8_Report_Card_32px_2.png"))); // NOI18N
        jButton9.setText("Generate Report");
        jButton9.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton9ActionPerformed(evt);
            }
        });

        jLabel31.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel31.setText("Report of drugs issued for a given prescription number");

        jLabel27.setBackground(new java.awt.Color(255, 255, 255));
        jLabel27.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel27.setText("Inventory re-order Report");

        jButton11.setBackground(new java.awt.Color(0, 31, 82));
        jButton11.setFont(new java.awt.Font("Segoe UI Symbol", 1, 14)); // NOI18N
        jButton11.setForeground(new java.awt.Color(255, 255, 255));
        jButton11.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/icons8_Report_Card_32px_2.png"))); // NOI18N
        jButton11.setText("Generate Reports");
        jButton11.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton11ActionPerformed(evt);
            }
        });

        jLabel30.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N
        jLabel30.setText("Prescription No");

        jComboBox7.setFont(new java.awt.Font("Segoe UI Symbol", 0, 14)); // NOI18N

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel8Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jSeparator1)
                            .addGroup(jPanel8Layout.createSequentialGroup()
                                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel31)
                                    .addComponent(jLabel27))
                                .addGap(0, 0, Short.MAX_VALUE))))
                    .addGroup(jPanel8Layout.createSequentialGroup()
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel8Layout.createSequentialGroup()
                                .addGap(83, 83, 83)
                                .addComponent(jButton9, javax.swing.GroupLayout.PREFERRED_SIZE, 209, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel8Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jLabel30)
                                .addGap(18, 18, 18)
                                .addComponent(jComboBox7, javax.swing.GroupLayout.PREFERRED_SIZE, 103, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel8Layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(jButton11, javax.swing.GroupLayout.PREFERRED_SIZE, 203, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(72, 72, 72))
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel8Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel31)
                .addGap(18, 18, 18)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel30)
                    .addComponent(jComboBox7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(74, 74, 74)
                .addComponent(jButton9, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(31, 31, 31)
                .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel27)
                .addGap(28, 28, 28)
                .addComponent(jButton11, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGap(63, 63, 63))
        );

        jPanel9.setBackground(new java.awt.Color(255, 255, 255));
        jPanel9.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Full Detailed Report", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI Symbol", 1, 14))); // NOI18N

        jButton10.setBackground(new java.awt.Color(0, 31, 82));
        jButton10.setFont(new java.awt.Font("Segoe UI Symbol", 1, 14)); // NOI18N
        jButton10.setForeground(new java.awt.Color(255, 255, 255));
        jButton10.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/icons8_Report_Card_32px_2.png"))); // NOI18N
        jButton10.setText("Generate Full Detailed Report");
        jButton10.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton10ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel9Layout = new javax.swing.GroupLayout(jPanel9);
        jPanel9.setLayout(jPanel9Layout);
        jPanel9Layout.setHorizontalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel9Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jButton10)
                .addGap(44, 44, 44))
        );
        jPanel9Layout.setVerticalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addGap(25, 25, 25)
                .addComponent(jButton10, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(25, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(27, 27, 27)
                .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(221, Short.MAX_VALUE))
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, 419, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addGap(31, 31, 31)
                        .addComponent(jPanel9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(131, Short.MAX_VALUE))
        );

        jTabbedPane1.addTab("Reports", jPanel7);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jTabbedPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 973, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 595, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        
        String dCode = null;
        Drugs d5 = new Drugs();
        int t = d5.availability(jTextField2.getText());
        //System.out.println("??????????????t="+t);
        if(t==1)
        {
            String q = "Select * from drugs where drugName = '"+jTextField2.getText()+"'";
            try{
                pst = conn.prepareStatement(q);
                rs = pst.executeQuery();
                
                while(rs.next()){
                    dCode = rs.getString("drugCode");
                }
            }
            
            catch(Exception e){
                JOptionPane.showMessageDialog(null, e.getMessage());
            }
           //dCode = jTextField10.getText();
        }
        
        else
        {
            try
            {
                //conn = DBconnect.getConnection();
                //System.out.println("try");
                String q1 = "Insert into drug_seq(name) values('aaa')";
                //System.out.println("try");
                String q2 = "Select concat('DR',lpad(LAST_INSERT_ID(),5,'0'))as drugCode from drug_seq";
                //System.out.println("try");
                
                pst = conn.prepareStatement(q1);
                //System.out.println("try");
                pst.executeUpdate();
                //System.out.println("try");
                //System.out.println("try");
                pst = conn.prepareStatement(q2);
                rs = pst.executeQuery();
               // System.out.println("try");
                if(rs.next())
                   dCode = rs.getString("drugCode");
                //  JOptionPane.showMessageDialog(null, dCode);
               // System.out.println(dCode);
            }
            catch(Exception e)
            {
                //System.out.println("tryyyyyyyyy");
                JOptionPane.showMessageDialog(null, e.getMessage());
            }
        }
       
        String dName = jTextField4.getText();
        String type = jComboBox4.getSelectedItem().toString();
        String manuf = jTextField6.getText();
        String oCode =jComboBox3.getSelectedItem().toString();
        //String qty = jTextField7.getText();
        String qty = jTextField20.getText();
        String uPrice = jTextField9.getText();
        String chName = jTextField19.getText();
        String mrgL = jTextField14.getText();
        String un = jLabel15.getText();
        SimpleDateFormat dcn = new SimpleDateFormat("yyyy-MM-dd");
        String dop = dcn.format(jDateChooser1.getDate());
        String doe = dcn.format(jDateChooser2.getDate());
                           
        if((!dName.isEmpty())&& (!chName.isEmpty())&&(!type.isEmpty())&&(!manuf.isEmpty())&&(!oCode.isEmpty())&&(!qty.isEmpty())&&(!uPrice.isEmpty())&&(!mrgL.isEmpty())&&(!dop.isEmpty())&&(!doe.isEmpty()))
        {
        //validating drug name
        for(int i=0 ; i<chName.length() ; i++)
        {
            if(Character.isDigit(chName.charAt(i)))
            {
                JOptionPane.showMessageDialog(null,"Invalid chemical name!");
                return;
            }
            else
            {
                if((chName.charAt(i)=='@')||(chName.charAt(i)=='#')||(chName.charAt(i)=='!')||(chName.charAt(i)=='$')||(chName.charAt(i)=='%')||(chName.charAt(i)=='^')||(chName.charAt(i)=='&')||(chName.charAt(i)=='*'))
                {
                    JOptionPane.showMessageDialog(null,"Invalid chemical name!");
                    return;
                }
            }
        }
        
        //validating type
         for(int i=0 ; i<type.length() ; i++)
        {
            if(Character.isDigit(type.charAt(i)))
            {
                JOptionPane.showMessageDialog(null,"Invalid drug type!");
                return;
            }
             else
            {
                if((type.charAt(i)=='@')||(type.charAt(i)=='#')||(type.charAt(i)=='!')||(type.charAt(i)=='$')||(type.charAt(i)=='%')||(type.charAt(i)=='^')||(type.charAt(i)=='&')||(type.charAt(i)=='*'))
                {
                    JOptionPane.showMessageDialog(null,"Invalid drug type!");
                    return;
                }
            }
        }
         
        //validating manuf
        for(int i=0 ; i<manuf.length() ; i++)
        {
            if(Character.isDigit(manuf.charAt(i))){
                JOptionPane.showMessageDialog(null,"Invalid manufacturer!");
                return;
            }
             else
            {
                if((manuf.charAt(i)=='@')||(manuf.charAt(i)=='#')||(manuf.charAt(i)=='!')||(manuf.charAt(i)=='$')||(manuf.charAt(i)=='%')||(manuf.charAt(i)=='^')||(manuf.charAt(i)=='&')||(manuf.charAt(i)=='*'))
                {
                    JOptionPane.showMessageDialog(null,"Invalid manufacturer!");
                    return;
                }
            }
        }
        
        //validating oCode
      /*  if((oCode.charAt(0)!='O')||(oCode.charAt(1)!='R')||(oCode.charAt(2)!='D'))
            JOptionPane.showMessageDialog(null,"Invalid Order Code!");
        else
        {*/
           /* for(int i=0;i<oCode.length();i++)
            {
                if((!Character.isDigit(oCode.charAt(i))))
                {
                   JOptionPane.showMessageDialog(null,"Invalid Order Code!");
                   return;
                }
            }*/
        
            
        //validating suppliers   
    /*    for(int i=0 ; i<sup.length() ; i++)
        {
            if(Character.isDigit(sup.charAt(i)))
                JOptionPane.showMessageDialog(null,"Invalid supplier!");
             else
            {
                if((sup.charAt(i)=='@')||(sup.charAt(i)=='#')||(sup.charAt(i)=='!')||(sup.charAt(i)=='$')||(sup.charAt(i)=='%')||(sup.charAt(i)=='^')||(sup.charAt(i)=='&')||(sup.charAt(i)=='*'))
                    JOptionPane.showMessageDialog(null,"Invalid supplier!");
            }
        }*/
        
        //validating qty
         for(int i=0 ; i<qty.length() ; i++)
        {
            if(!Character.isDigit(qty.charAt(i)))
            {
                JOptionPane.showMessageDialog(null,"Invalid quantity!");
                return;
            }
        }
         
        //validating unitPrice
/*        for(int i=0 ; i<uPrice.length() ; i++)
        {
          if(!Character.isDigit(uPrice.charAt(i)) || (uPrice.charAt(i)!='.'))
            {
                JOptionPane.showMessageDialog(null,"Invalid unit price!");
                return;
            }
        }*/
        
        //validating mrgL
         for(int i=0 ; i<mrgL.length() ; i++)
        {
            if(!Character.isDigit(mrgL.charAt(i)))
            {
                JOptionPane.showMessageDialog(null,"Invalid marginal level!");
                return;
            }
        }
        
        
        if(t==1)
        {
             //if((!oCode.isEmpty())&&(!qty.isEmpty())&&(!dop.isEmpty())&&(!doe.isEmpty()))
           // {
               Drugs d3 = new Drugs(dCode,oCode,qty,dop,doe,un);
               tbLoad();
               ordertbLoad();
               jTextField10.setText("");
               jTextField4.setText("");
               jTextField19.setText("");
               jComboBox4.setSelectedItem("Liquid");
               jTextField6.setText("");
               jTextField9.setText("");
               jTextField14.setText("");
               jComboBox4.setSelectedItem("----");
               jTextField20.setText("");
               jDateChooser1.setDate(null);
               jDateChooser2.setDate(null);
               
            //}
           // else
             //{
               //  JOptionPane.showMessageDialog(null,"One or more fields are empty!");
             //}
        }
        else
        {
            //if((!dName.isEmpty())&&(!type.isEmpty())&&(!manuf.isEmpty())&&(!oCode.isEmpty())&&(!qty.isEmpty())&&(!uPrice.isEmpty())&&(!mrgL.isEmpty())&&(!dop.isEmpty())&&(!doe.isEmpty()))
            //{
             System.out.println("after val");
             Drugs d3 = new Drugs(dCode,chName,dName,type,manuf,oCode,qty,uPrice,mrgL,doe,un);
             tbLoad();
             ordertbLoad();
             jTextField10.setText("");
               jTextField4.setText("");
               jTextField19.setText("");
               jComboBox4.setSelectedItem("Liquid");
               jTextField6.setText("");
               jTextField9.setText("");
               jTextField14.setText("");
               jComboBox4.setSelectedItem("----");
               jTextField20.setText("");
               jDateChooser1.setDate(null);
               jDateChooser2.setDate(null);
            //}
            //else
               // JOptionPane.showMessageDialog(null,"One or more fields are empty!");
        }
        }
        else
            JOptionPane.showMessageDialog(null,"One or more fields are empty!");
        jLabel19.setVisible(false);
        jTextField2.setText("");
    }//GEN-LAST:event_jButton1ActionPerformed

    private void add(String drug)
    {
        jList2.setModel(dm);
        dm.addElement(drug);
    }
    
    private void delete(String drug)
    {
        jList2.setModel(dm);
        dm.removeElement(drug);
    }
    
    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
       System.out.println("op");
        if(!jTextField10.getText().equals(""))
        {
           // System.out.println("8888");
           String dCode = jTextField10.getText();
           String dName = jTextField4.getText();
           String cname = jTextField19.getText();
          // System.out.println("println");
           String type = jComboBox4.getSelectedItem().toString();
        //System.out.println("println");
           String manuf = jTextField6.getText();
        //System.out.println("println");
           String uPrice = jTextField9.getText();
        //System.out.println("println2");
           String mrgL = jTextField14.getText();
        //System.out.println("println3");
        
       if((!dName.isEmpty())&&(!type.isEmpty())&&(!manuf.isEmpty())&&(!uPrice.isEmpty())&&(!mrgL.isEmpty()))
       {
         //validating drug name
        for(int i=0 ; i<cname.length() ; i++)
        {
            if(Character.isDigit(cname.charAt(i)))
            {
                JOptionPane.showMessageDialog(null,"Invalid chemical name!");
                return;
            }
            else
            {
               if((cname.charAt(i)=='@')||(cname.charAt(i)=='#')||(cname.charAt(i)=='!')||(cname.charAt(i)=='$')||(cname.charAt(i)=='%')||(cname.charAt(i)=='^')||(cname.charAt(i)=='&')||(cname.charAt(i)=='*'))
               {
                   JOptionPane.showMessageDialog(null,"Invalid chemical name!");
                   return;
               }
            }
        }
       
       //validating type
        /* for(int i=0 ; i<type.length() ; i++)
        {
            if(Character.isDigit(type.charAt(i)))
            {
                JOptionPane.showMessageDialog(null,"Invalid drug type!");
                return;
            }
            else
            {
                if((type.charAt(i)=='@')||(type.charAt(i)=='#')||(type.charAt(i)=='!')||(type.charAt(i)=='$')||(type.charAt(i)=='%')||(type.charAt(i)=='^')||(type.charAt(i)=='&')||(type.charAt(i)=='*'))
                {
                    JOptionPane.showMessageDialog(null,"Invalid drug type!");
                    return;
                }
            }
        }*/
         
         //validating manuf
        for(int i=0 ; i<manuf.length() ; i++)
        {
            if(Character.isDigit(manuf.charAt(i)))
            {
                JOptionPane.showMessageDialog(null,"Invalid manufacturer!");
                return;
            }
            else
            {
                if((manuf.charAt(i)=='@')||(manuf.charAt(i)=='#')||(manuf.charAt(i)=='!')||(manuf.charAt(i)=='$')||(manuf.charAt(i)=='%')||(manuf.charAt(i)=='^')||(manuf.charAt(i)=='&')||(manuf.charAt(i)=='*'))
                {
                    JOptionPane.showMessageDialog(null,"Invalid manufacturer!");
                    return;
                }
            }
        }
        
        //validating mrgL
         for(int i=0 ; i<mrgL.length() ; i++)
        {
            if(!Character.isDigit(mrgL.charAt(i)))
            {
                JOptionPane.showMessageDialog(null,"Invalid marginal level!");
                return;
            }
        }
         
         //validating unitPrice
       /* for(int i=0 ; i<uPrice.length() ; i++)
        {
           if(!Character.isDigit(uPrice.charAt(i)) || uPrice.charAt(i)!='.')
            {
                JOptionPane.showMessageDialog(null,"Invalid unit price!");
                return;
            }
        }*/
         
   //     if((!dName.isEmpty())&&(!type.isEmpty())&&(!manuf.isEmpty())&&(!uPrice.isEmpty())&&(!mrgL.isEmpty()))
       // {
           Drugs d6 = new Drugs();
           d6.updateDrugs(dCode,cname, dName, type, manuf, uPrice, mrgL);
           //d6.updateOrder(dCode, mrgL, type, mrgL);
           tbLoad();
           ordertbLoad();
           jTextField10.setText("");
           jTextField4.setText("");
           jTextField19.setText("");
           jComboBox4.setSelectedItem("Liquid");
           jTextField6.setText("");
           jTextField9.setText("");
           jTextField14.setText("");
           jComboBox3.setSelectedItem("----");
           jTextField20.setText("");
           jDateChooser1.setDate(null);
           jDateChooser2.setDate(null);
           
       // }
      //  else
       // {
          //  JOptionPane.showMessageDialog(null, "One or more fields are empty!");
        //}
        }
       else
       {
           JOptionPane.showMessageDialog(null, "One or more fields are empty!");
           return;
       }
           
        }   
        else
        {
            //System.out.println("op");
           String oCode = jComboBox3.getSelectedItem().toString();
          // String qty = (String) jSpinner1.getValue();
           String qty = jTextField20.getText();
          // String qty = jTextField7.getText();
          // System.out.println("println1");
           String un = jLabel15.getText();
          // System.out.println("println4"); 
           SimpleDateFormat dcn = new SimpleDateFormat("yyyy-MM-dd");
           String dop = dcn.format(jDateChooser1.getDate());
           //System.out.println("println");
           String doe = dcn.format(jDateChooser2.getDate());
           
        if((!oCode.isEmpty())&&(!dop.isEmpty())&&(!doe.isEmpty())&&(!qty.isEmpty()))
        {
            System.out.println("op");
            //validating oCode
          /*  for(int i=0 ; i<oCode.length();i++)
            {
                if((!Character.isDigit(oCode.charAt(i))))
                {
                   JOptionPane.showMessageDialog(null,"Invalid Order Code!"); 
                   return;
                }
            }*/
            
            //validating qty
         for(int i=0 ; i<qty.length() ; i++)
        {
            if(!Character.isDigit(qty.charAt(i)))
            {
                JOptionPane.showMessageDialog(null,"Invalid quantity!");
                return;
            }
        }
        
       // if((!oCode.isEmpty())&&(!dop.isEmpty())&&(!doe.isEmpty())&&(!qty.isEmpty()))
       // {
          // System.out.println("8888");
          System.out.println("op");
           Drugs d7 = new Drugs();
           d7.updateOrder(oCode,qty,doe,dop);
           tbLoad();
           ordertbLoad();
           jTextField10.setText("");
           jTextField4.setText("");
           jTextField19.setText("");
           jComboBox4.setSelectedItem("Liquid");
           jTextField6.setText("");
           jTextField9.setText("");
           jTextField14.setText("");
           jComboBox3.setSelectedItem("----");
           jTextField20.setText("");
           jDateChooser1.setDate(null);
           jDateChooser2.setDate(null);
     //   }
      //  else
      //  {
        //    JOptionPane.showMessageDialog(null, "One or more fields are Empty!");
      //  }  
        }
        else
        {
             JOptionPane.showMessageDialog(null, "One or more fields are Empty!");
             return;
        }
        }
        
       
        
        
         
        
        
       
            
     /*   //validating suppliers   
        for(int i=0 ; i<sup.length() ; i++)
        {
            if(Character.isDigit(sup.charAt(i)))
                JOptionPane.showMessageDialog(null,"Invalid supplier!");
             else
            {
                if((sup.charAt(i)=='@')||(sup.charAt(i)=='#')||(sup.charAt(i)=='!')||(sup.charAt(i)=='$')||(sup.charAt(i)=='%')||(sup.charAt(i)=='^')||(sup.charAt(i)=='&')||(sup.charAt(i)=='*'))
                    JOptionPane.showMessageDialog(null,"Invalid supplier!");
            }
        }*/
        
        
         
       
         
       /* if(t==1)
        {
             Drugs d3 = new Drugs(dCode,oCode,sup,qty,dop,doe,un);
        }
        else
        {
             Drugs d3 = new Drugs(dCode,dName,type,manuf,oCode,sup,qty,uPrice,mrgL,dop,doe,un);
        }*/
       
        
    }//GEN-LAST:event_jButton2ActionPerformed

    private void jComboBox1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jComboBox1ActionPerformed

    public void tbLoad()
    {
        String q = "Select * from drugs";
        try{
            DefaultTableModel model = (DefaultTableModel) jTable2.getModel();
            model.setRowCount(0);
            //conn = DBconnect.getConnection();
            pst = conn.prepareStatement(q);
            rs = pst.executeQuery();
            jTable2.setModel(DbUtils.resultSetToTableModel(rs)); 
        }
        
        catch(Exception e)
        {
            JOptionPane.showMessageDialog(null, e.getMessage());
        }
    }
    
     public void tbLoad2()
    {
        String q = "Select * from issued";
        try{
            DefaultTableModel model = (DefaultTableModel) jTable1.getModel();
            model.setRowCount(0);
            conn = DBconnect.getConnection();
            pst = conn.prepareStatement(q);
            rs = pst.executeQuery();
            jTable1.setModel(DbUtils.resultSetToTableModel(rs)); 
        }
        
        catch(Exception e)
        {
            JOptionPane.showMessageDialog(null, e.getMessage());
        }
    }
    
     public void ordertbLoad()
    {
        String q = "Select * from orders";
        try{
            DefaultTableModel model = (DefaultTableModel) jTable3.getModel();
            model.setRowCount(0);
            conn = DBconnect.getConnection();
            pst = conn.prepareStatement(q);
            rs = pst.executeQuery();
            jTable3.setModel(DbUtils.resultSetToTableModel(rs)); 
        }
        
        catch(Exception e)
        {
            JOptionPane.showMessageDialog(null, e.getMessage());
        }
    }
    
    
    
    private void jButton10ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton10ActionPerformed
        // TODO add your handling code here:
        try{
            conn = DBconnect.getConnection();
            String report = "C:\\Users\\HP User\\Desktop\\itp\\ITPproject\\src\\phreport1.jrxml";
            JasperReport jr = JasperCompileManager.compileReport(report);
            JasperPrint jp = JasperFillManager.fillReport(jr, null, conn);
            JasperViewer.viewReport(jp,false);
            
        }
        catch(Exception e){
            JOptionPane.showMessageDialog(null, e.getMessage());
        }
    }//GEN-LAST:event_jButton10ActionPerformed

    private void jTable2MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable2MouseClicked
        //String dName = jTextField2.getText();
        //Drugs d2 = new Drugs();
        //int s = d2.availability(dName);
        int r = jTable2.getSelectedRow();
        
        String dCode = jTable2.getValueAt(r,0).toString(); 
        String dName = jTable2.getValueAt(r,2).toString();
        String chName = jTable2.getValueAt(r,1).toString();
        String type = jTable2.getValueAt(r,3).toString();
        String tot = jTable2.getValueAt(r,4).toString();
        //String sup = jTable2.getValueAt(r,4).toString();
        String manuf = jTable2.getValueAt(r,5).toString();
        String uprice = jTable2.getValueAt(r,6).toString();
        String mrgL = jTable2.getValueAt(r,7).toString();
        //String mrgL = jTable2.getValueAt(r,8).toString();
        
        jTextField10.setText(dCode);
        jTextField4.setText(dName);
        jComboBox4.setSelectedItem(type);
        jTextField6.setText(manuf);
        jTextField14.setText(mrgL);
        jTextField9.setText(uprice);
        jTextField19.setText(chName);
        
      //  jButton1.setEnabled(false);
        jButton2.setEnabled(true);
        jButton3.setEnabled(true);

/*        jTextField4.setEditable(false);
        jTextField5.setEditable(false);
        jTextField6.setEditable(false);*/
        jTextField10.setEditable(false);
      /*  jTextField14.setEditable(false);
        jTextField9.setEditable(false);*/
    }//GEN-LAST:event_jTable2MouseClicked

    private void jButton5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton5ActionPerformed
        // TODO add your handling code here:
        jLabel19.setVisible(false);
        DefaultTableModel model = (DefaultTableModel) jTable2.getModel();
        model.setRowCount(0);
        String dName = jTextField2.getText();
        System.out.println(dName);
        Drugs d1 = new Drugs();
        int r = d1.availability(dName);
        System.out.println(r);
        if(r==1)
        {
            String q3 = "Select * from drugs where drugName = '"+dName+"'";
            try 
            {
                //System.out.println("*********");
                conn = DBconnect.getConnection();
                //System.out.println("*********");
                pst = conn.prepareStatement(q3);
                System.out.println("*********");
                rs = pst.executeQuery();
                System.out.println("*********");
                jTable2.setModel(DbUtils.resultSetToTableModel(rs));   
            } 
            catch (SQLException ex) {
                System.out.println("+++++**");
                Logger.getLogger(pharmacy.class.getName()).log(Level.SEVERE, null, ex);
            }
  
        }
        else
        {
            jButton1.setEnabled(true);
            jButton2.setEnabled(false);
            jButton3.setEnabled(false);
            jTextField10.setEditable(false);
           // JOptionPane.showMessageDialog(null, "No drug found!");
            jLabel19.setVisible(true);
            jTextField10.setText("");
            jComboBox4.setSelectedItem("Liquid");
            jTextField6.setText("");
            jTextField14.setText("");
            jTextField9.setText("");
            //jTextField7.setText("");
            jTextField20.setText("");
            //jTextField8.setText("");
            jDateChooser1.setDate(null);
            jTextField4.setText(dName);
            
        }
    }//GEN-LAST:event_jButton5ActionPerformed

    private void jTextField14ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField14ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField14ActionPerformed

    private void jButton6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton6ActionPerformed
       
       // String q = "Select docName from prescription where presNo = "
        SimpleDateFormat dcn = new SimpleDateFormat("yyyy-MM-dd");
        String date = dcn.format(jDateChooser10.getDate());
        jComboBox2.removeAllItems();
        fillCombo(date);
        
    }//GEN-LAST:event_jButton6ActionPerformed

    private void fillcomboDoc(String date)
    {
        try{
            
        }
        catch(Exception ex){
            JOptionPane.showMessageDialog(null,ex.getMessage());
        }
    }
    
      private void fillCombo3()
    {
       //System.out.println("***");
       try
       {
           //conn = DBconnect.getConnection();
           String q = "Select * from issued";
           pst = conn.prepareStatement(q);
           rs = pst.executeQuery();
           //System.out.println("rs");
           while(rs.next())
           {
               //System.out.println("1");
               String pno = rs.getString("presNo");
               //System.out.println("2");
               jComboBox7.addItem(pno);
               //System.out.println("3");
               
           }
       }
        
       catch(Exception ex)
        {
            JOptionPane.showMessageDialog(null,ex.getMessage());
        }
    }
    
    private void fillCombo(String date)
    {
       //System.out.println("***");
       try
       {
           //conn = DBconnect.getConnection();
           String q = "Select * from prescription where date = '"+date+"'";
           pst = conn.prepareStatement(q);
           rs = pst.executeQuery();
           //System.out.println("rs");
           while(rs.next())
           {
               //System.out.println("1");
               String pno = rs.getString("presNo");
               //System.out.println("2");
               jComboBox2.addItem(pno);
               //System.out.println("3");
               
           }
       }
        
       catch(Exception ex)
        {
            JOptionPane.showMessageDialog(null,ex.getMessage());
        }
    }
    
     private void filldCombo()
    {
       try
       {
           conn = DBconnect.getConnection();
           String q = "Select * from orders";
           pst = conn.prepareStatement(q);
           rs = pst.executeQuery();
           while(rs.next())
           {
               String oc = rs.getString("orderCode");
               jComboBox3.addItem(oc);
               
           }
       }
        
       catch(Exception ex)
        {
            JOptionPane.showMessageDialog(null,ex.getMessage());
        }
    }
    
    
    void setCheckBox(javax.swing.JCheckBox j,String name){
         j.setVisible(true);
         j.setText(name);
        }
    private void jButton12ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton12ActionPerformed
       
        DefaultListModel dm = new DefaultListModel();
        jList1.setModel(dm);
        String num = jComboBox2.getSelectedItem().toString();
        Drugs d = new Drugs();
        String q = "Select * from buy where prescriptionNo = '"+num+"'";
        String q11 = "Select * from prescription where presNo = '"+num+"'";
       // rs = d.getPrescriptionDrugs(num);
       int count = 0;
       
        try{
            conn = DBconnect.getConnection();
            pst = conn.prepareStatement(q11);
            rs = pst.executeQuery();
            
            while(rs.next()){
                String no = rs.getString("empNo");
                String q2 = "Select * from doctor where empNo = '"+no+"'";
                pst = conn.prepareStatement(q2);
                ResultSet rs2 = pst.executeQuery();
                
                while(rs2.next()){
                    jTextField16.setText(rs2.getString("name"));
                }
            }
            
            conn = DBconnect.getConnection();
            pst = conn.prepareStatement(q);
            rs = pst.executeQuery();
           
           
           while(rs.next())
           {
               String n = rs.getString("drugCode");
               String p = rs.getString("qty");
               
               String q1 = "Select * from drugs where drugCode = '"+n+"'";
               pst = conn.prepareStatement(q1);
               ResultSet rs1 = pst.executeQuery();
               
               while(rs1.next()){
                   String nm = rs1.getString("drugName");
                   dm.addElement(n + "  " + nm + "  "+ p);
                   jList1.setModel(dm);
               }
               
           }
           
           jLabel39.setVisible(true);
           jLabel40.setVisible(true);
           jLabel41.setVisible(true);
           jLabel42.setVisible(true);
           String q13 = "Select * from buy where prescriptionNo = '"+num+"'";
           conn = DBconnect.getConnection();
           pst = conn.prepareStatement(q);
           rs = pst.executeQuery();
           
           while(rs.next()){
               jTextField7.setText(rs.getString("noOfDays"));
               jTextField7.setEditable(false);
               jTextField8.setText(rs.getString("mQty"));
               jTextField8.setEditable(false);
               jTextField17.setText(rs.getString("aQty"));
               jTextField17.setEditable(false);
               jTextField18.setText(rs.getString("nQty"));
               jTextField18.setEditable(false);
           }

        }
        catch(Exception e)
        {
            JOptionPane.showMessageDialog(null, e.getMessage());
        }
        /*int count = 1;
        
        try
        {
           conn = dbconnect.connect();
           String q = "Select * from buy where prescriptionNo = '"+num+"'";
           pst = conn.prepareStatement(q);
           rs = pst.executeQuery();
           int r = rs.getRow();
           System.out.println(r);
           
        }
        
        catch(Exception ex)
        {
           JOptionPane.showMessageDialog(null,ex.getMessage());
        }*/
        
        
    }//GEN-LAST:event_jButton12ActionPerformed

    private void jLabel22MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabel22MouseClicked
        // TODO add your handling code here:
        String key = jTextField3.getText();
    }//GEN-LAST:event_jLabel22MouseClicked

    private void jTextField4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField4ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField4ActionPerformed

    private void jButton13ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton13ActionPerformed
        // TODO add your handling code here:
        jButton2.setEnabled(true);
        jButton3.setEnabled(true);
        String oc = jComboBox3.getSelectedItem().toString();
        String q = "Select * from orders where orderCode = '"+oc+"'";
        try
        {
            conn = DBconnect.getConnection();
            pst = conn.prepareStatement(q);
            rs = pst.executeQuery();
            
       
                while(rs.next())
                {
                   
                   String qty = rs.getString("qtyRecieved");
                  
                   //jSpinner1.setValue(Integer.parseInt(qty));
                   jTextField20.setText(qty);
                  
                   Date dop = rs.getDate("dateOfPurchase");
                   jDateChooser1.setDate(dop);
                   Date doe = rs.getDate("dateOfExp");
                   jDateChooser2.setDate(doe);
               
                }
          //  }
        }
        
        catch(Exception e)
        {
             JOptionPane.showMessageDialog(null,e.getMessage());
        }
        
       /* if(jTextField7.getText().isEmpty())
        {
            jButton2.setEnabled(false);
            jButton3.setEnabled(false);
            jButton1.setEnabled(true);
        }
        else
            jButton1.setEnabled(false);
            jButton2.setEnabled(true);
            jButton3.setEnabled(true);
       */
    }//GEN-LAST:event_jButton13ActionPerformed

    private void jButton14ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton14ActionPerformed
        // TODO add your handling code here:
        jLabel19.setVisible(false);
        jLabel23.setVisible(false);
        jDateChooser10.setDate(null);
        jComboBox2.setSelectedItem("----");
        String pc = jTextField13.getText();
        String q = "Select * from patient where patientID = '"+pc+"'";
        if(pc.isEmpty())
           jLabel23.setVisible(true);
        else
        {
           for(int i=0 ; i<pc.length() ; i++)
                 {
                    if(!Character.isDigit(pc.charAt(i)))
                       jLabel12.setVisible(true);
                    else
                    {
                       if((pc.charAt(i)=='@')||(pc.charAt(i)=='#')||(pc.charAt(i)=='!')||(pc.charAt(i)=='$')||(pc.charAt(i)=='%')||(pc.charAt(i)=='^')||(pc.charAt(i)=='&')||(pc.charAt(i)=='*'))
                          jLabel12.setVisible(true);
                       else
                       {
                           try
                           {
                              conn = DBconnect.getConnection();
                              pst = conn.prepareStatement(q);
                              rs = pst.executeQuery();
                              if(rs.next())
                              {
                                 String name = rs.getString("name");
                                 jTextField12.setText(name);
                                 jComboBox1.setSelectedItem("Registered");
                              }
                            }
                            catch(Exception e)
                            {
                              JOptionPane.showMessageDialog(null,e.getMessage());
                            } 
                      }
                   }
                } 
           /*if(pc.charAt(0)== 'P')
           {
              if(pc.charAt(1)== 'T')
              {
                 for(int i=2 ; i<pc.length() ; i++)
                 {
                    if(!Character.isDigit(pc.charAt(i)))
                       jLabel12.setVisible(true);
                    else
                    {
                       if((pc.charAt(i)=='@')||(pc.charAt(i)=='#')||(pc.charAt(i)=='!')||(pc.charAt(i)=='$')||(pc.charAt(i)=='%')||(pc.charAt(i)=='^')||(pc.charAt(i)=='&')||(pc.charAt(i)=='*'))
                          jLabel12.setVisible(true);
                       else
                       {
                           try
                           {
                              conn = DBconnect.getConnection();
                              pst = conn.prepareStatement(q);
                              rs = pst.executeQuery();
                              if(rs.next())
                              {
                                 String name = rs.getString("name");
                                 jTextField12.setText(name);
                                 jComboBox1.setSelectedItem("Registered");
                              }
                            }
                            catch(Exception e)
                            {
                              JOptionPane.showMessageDialog(null,e.getMessage());
                            } 
                      }
                   }
                }
            }
            else
               jLabel12.setVisible(true);
          }
          else
             jLabel12.setVisible(true);*/
        }
             
        
        
    }//GEN-LAST:event_jButton14ActionPerformed

    private void jTextField3KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField3KeyReleased
        // TODO add your handling code here:
        String q = jTextField3.getText();
        Drugs d7 = new Drugs();
        d7.filter(q,jTable2);
    }//GEN-LAST:event_jTextField3KeyReleased

    private void jLabel34MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabel34MouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_jLabel34MouseClicked

    private void jTextField1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField1ActionPerformed

    private void jTextField1KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField1KeyReleased
        // TODO add your handling code here:
        String q = jTextField1.getText();
        Drugs d8 = new Drugs();
        d8.filter(q,jTable3);
    }//GEN-LAST:event_jTextField1KeyReleased

    private void jTable3MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable3MouseClicked
        // TODO add your handling code here:
        jButton3.setEnabled(false);
        int r = jTable3.getSelectedRow();
    
        String cCode = jTable3.getValueAt(r,0).toString(); 
        
        String dop = jTable3.getValueAt(r,1).toString();
        String qty = jTable3.getValueAt(r,3).toString();
        String doe = jTable3.getValueAt(r,7).toString();
        
        jTextField20.setText(qty);
        //jSpinner1.setValue(Integer.parseInt(qty));
        DateFormat formatter = new SimpleDateFormat("dd-MM-yyyy");
        
        try{
        java.util.Date dop1 = formatter.parse(dop);
        jDateChooser1.setDate(dop1);
        java.util.Date doe1 = formatter.parse(doe);
        jDateChooser2.setDate(doe1);
        jComboBox3.setSelectedItem(cCode);
        jComboBox3.setEditable(false);
        }
         
        catch(Exception ex)
        {
            JOptionPane.showMessageDialog(null,ex.getMessage());
        }
        //jButton1.setEnabled(false);
        jButton2.setEnabled(true);
        jButton3.setEnabled(true);
    }//GEN-LAST:event_jTable3MouseClicked

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        // TODO add your handling code here:
       
        int k = JOptionPane.showConfirmDialog(null,"Do you really want to delete this record?");
        if(k == 0){        
           String dCode = jTextField10.getText();
           Drugs d9 = new Drugs();
           d9.delete(dCode);
           tbLoad();
           
           
        }
        /*else
            return;*/
            
         
         else
         {
             JOptionPane.showConfirmDialog(null,"You cannot delete entered order details");
         }
           jTextField10.setText("");
           jTextField4.setText("");
           jTextField19.setText("");
           jComboBox4.setSelectedItem("Liquid");
           jTextField6.setText("");
           jTextField9.setText("");
           jTextField14.setText("");
           jComboBox3.setSelectedItem("----");
           jTextField20.setText("");
           jDateChooser1.setDate(null);
           jDateChooser2.setDate(null);
    }//GEN-LAST:event_jButton3ActionPerformed

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed
        // TODO add your handling code here:
        String s1 = jTextField11.getText();
        String s2 = jTextField15.getText();
        String s3 = jTextField5.getText();
        
       
          for(int i=0 ; i<s2.length() ; i++)
        {
            if(!Character.isDigit(s2.charAt(i)))
            {
                JOptionPane.showMessageDialog(null,"Invalid quantity!");
                return;
            }
        }
          
          
         if(s1.charAt(0)== 'D')
           {
              if(s1.charAt(1)== 'R')
              {
                 for(int i=2 ; i<s1.length() ; i++)
                 {
                    if(!Character.isDigit(s1.charAt(i)))
                    {
                       JOptionPane.showMessageDialog(null, "Invalid drug code!");
                       return;
                    }
                    else
                    {
                       if((s1.charAt(i)=='@')||(s1.charAt(i)=='#')||(s1.charAt(i)=='!')||(s1.charAt(i)=='$')||(s1.charAt(i)=='%')||(s1.charAt(i)=='^')||(s1.charAt(i)=='&')||(s1.charAt(i)=='*'))
                           
                       {
                           JOptionPane.showMessageDialog(null, "Invalid drug code!");
                           return;
                       }
                    //   else
                      // {
                          /* try
                           {
                              conn = DBconnect.getConnection();
                              pst = conn.prepareStatement(q);
                              rs = pst.executeQuery();
                              if(rs.next())
                              {
                                 String name = rs.getString("name");
                                 jTextField12.setText(name);
                                 //jComboBox1.setSelectedItem("Registered");
                              }
                            }
                            catch(Exception e)
                            {
                              JOptionPane.showMessageDialog(null,e.getMessage());
                            } */
                     // }
                   }
                }
            }
            else
            {
               JOptionPane.showMessageDialog(null, "Invalid drug code!");
               return;
            }
          }
          else
         {
             JOptionPane.showMessageDialog(null, "Invalid drug code!");
             return;
         }
        String f = s1 + "  " + s3 + "  " + s2;
        add(f);
        jTextField11.setText(" ");
        jTextField15.setText(" ");
        jTextField5.setText(" ");
    }//GEN-LAST:event_jButton4ActionPerformed

    private void jList1ValueChanged(javax.swing.event.ListSelectionEvent evt) {//GEN-FIRST:event_jList1ValueChanged
        // TODO add your handling code here:
        String selected = jList1.getSelectedValue().toString();
        String[] parts = selected.split("  ");
        String p1 = parts[0];
        String p2 = parts[1];
        String p3 = parts[2];
        jTextField11.setText(p1);
        jTextField11.setEditable(false);
        jTextField5.setText(p2);
        jTextField5.setEditable(false);
        jTextField15.setText(p3);
        
        jLabel39.setVisible(true);
        jLabel40.setVisible(true);
        jLabel41.setVisible(true);
        jLabel42.setVisible(true);
        
        String num = jComboBox2.getSelectedItem().toString();
        System.out.println("num" + num);
        System.out.println("drugCode" + p1);
        String q13 = "Select * from buy where prescriptionNo = '"+num+"' and drugCode = '"+p1+"'";
        
        try{
           conn = DBconnect.getConnection();
           pst = conn.prepareStatement(q13);
           rs = pst.executeQuery();
           
           while(rs.next()){
              jTextField7.setVisible(true);
              jTextField7.setText(rs.getString("noOfDays"));
              jTextField7.setEditable(false);
              jTextField8.setText(rs.getString("mQty"));
              jTextField8.setVisible(true);
              jTextField8.setEditable(false);
              jTextField17.setText(rs.getString("aQty"));
              jTextField17.setVisible(true);
              jTextField17.setEditable(false);
              jTextField18.setText(rs.getString("nQty"));
              jTextField18.setVisible(true);
              jTextField18.setEditable(false);
           }
        }
        
        catch(Exception e){
            JOptionPane.showMessageDialog(null,e.getMessage());
        }
    }//GEN-LAST:event_jList1ValueChanged

    private void jButton7ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton7ActionPerformed
        // TODO add your handling code here:
        String k = jList2.getSelectedValue().toString();
        delete(k);
        
    }//GEN-LAST:event_jButton7ActionPerformed

    private void jButton15ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton15ActionPerformed
        
        ListModel model = jList2.getModel();
        for(int i=0 ; i<model.getSize();i++){
            String s = (String) model.getElementAt(i);
            String val[] = s.split("  ");
            String drugc = val[0];
            String drugn = val[1];
            String qty = val[2];
            
            
            String val2[] = drugn.split(" ");
            String dn1 = val2[0];
            int ds1 = Integer.parseInt(val2[1]);
            String pNo = jComboBox2.getSelectedItem().toString();
/*            try{
               String q = "Insert into issued(presNo,drugCode,qty) values('"+pNo+"','"+drug+"','"+qty+"')";
               pst = conn.prepareStatement(q);
               pst.executeUpdate();
            }
            
            catch(Exception e)
            {
                JOptionPane.showMessageDialog(null,e.getMessage());
            }
            */
            Date d = new Date(System.currentTimeMillis());
 
            String q8 = "Select * from drugs where drugCode = '"+drugc+"' ";
                       
            try{
                pst = conn.prepareStatement(q8);
                rs = pst.executeQuery();
                while(rs.next()){
                    int ml =rs.getInt("mrgLvl");
                    int updTot = rs.getInt("totQty") - (Integer.parseInt(qty));
                    if(updTot>=0){
                        String w = String.valueOf(updTot);
                        String q9 = "Update drugs set totQty = '"+w+"' where drugCode = '"+drugc+"'";
                        pst = conn.prepareStatement(q9);
                        pst.executeUpdate();
                        
                        String q = "Insert into issued(presNo,drugCode,qty) values('"+pNo+"','"+drugc+"','"+qty+"')";
                        pst = conn.prepareStatement(q);
                        pst.executeUpdate();
                        
                        JOptionPane.showMessageDialog(null,"Inventory Updated!");
                    }
                    else
                        if(updTot<0){
                            JOptionPane.showMessageDialog(null,"Available stock is insufficient.");
                            int r = 0;
                            String c = rs.getString("chName");
                            String q = "Select * from drugs where chName = '"+c+"' and drugName != '"+drugn+"'";
                           
                            pst = conn.prepareStatement(q);
                            ResultSet rs2 = pst.executeQuery();
                            while(rs2.next()){
                                System.out.println("2");
                                if(rs2.getInt("totQty")>Integer.parseInt(qty)){
                                    System.out.println("check qtyAlt>available qty");
                                   String alt = rs2.getString("drugName");
                                   String val1[] = alt.split(" ");
                                   String dn = val1[0];
                                   int ds = Integer.parseInt(val1[1]);
                                   double sy = (double)ds1 /(double) ds;
                            
                                   String q4 = "Select * from buy where prescriptionNo = '"+jComboBox2.getSelectedItem()+"' and drugCode = '"+drugc+"'";
                                   pst = conn.prepareStatement(q4);
                                   ResultSet rs3 = pst.executeQuery();
                            
                                   if(rs3.next()){
                                   Double d1 = (Integer.parseInt(rs3.getString("noOfDays")) * sy); 
                                   Double m1 = (Integer.parseInt(rs3.getString("mQty")) * sy); 
                                   Double a1 = (Integer.parseInt(rs3.getString("aQty")) * sy); 
                                   Double n1 = (Integer.parseInt(rs3.getString("nQty")) * sy); 
                                   Double t = ((d1*m1)+(d1*a1)+(d1*n1));
                    
                                   DefaultTableModel model1 = (DefaultTableModel)jTable4.getModel();
                                   model1.setValueAt(dn, r, 1);
                                   model1.setValueAt(drugn, r, 0);
                                   model1.setValueAt(t.toString(), r, 2);
                                   r++;
                                   }
                                }
                            }
                        }
                    
                   /* else{
                        JOptionPane.showMessageDialog(null,"Available stock is insufficient.");
                        
                        break;
                    }*/
                    
                    
                    if(ml >= updTot){
                     
                     try{
                         String host = "smtp.gmail.com";
                         String user = "deegayuu@gmail.com";
                         String pass = "deegayuu123";
                         String to = "ayodhya.dayananda@gmail.com";
                         String from = "deegayuu@gmail.com";
                         String subject = "Reorder Request";
                         String msg = "Drug " + drugn + " has reached the marginal level and need to be reordered. ";
                         boolean sessionDebug = false;
                         
                         Properties props = System.getProperties();
                         
                         props.put("mail.smtp.starttls.enable", "true");
                         props.put("mail.smtp.host", host);
                         props.put("mail.smtp.port", "587");
                         props.put("mail.smtp.auth", "true");
                         props.put("mail.smtp.starttls.required", "true");
                         
                         java.security.Security.addProvider(new com.sun.net.ssl.internal.ssl.Provider());
                       
                         javax.mail.Session mailSession = javax.mail.Session.getDefaultInstance(props,null);
                         mailSession.setDebug(sessionDebug);
                         Message msgg = new MimeMessage(mailSession);
                         msgg.setFrom(new InternetAddress(from));
                         InternetAddress[] address = {new InternetAddress(to)};
                         msgg.setRecipients(Message.RecipientType.TO, address);
                         msgg.setSubject(subject);
                         msgg.setSentDate(new java.util.Date());
                         msgg.setText(msg);
                         
                         Transport transport = mailSession.getTransport("smtp");
                         transport.connect(host, user, pass);
                         transport.sendMessage(msgg, msgg.getAllRecipients());
                         transport.close();
                        // System.out.print("Msg sent sussessfuly!!!!!"); zx         
                     }
                     
                     catch(Exception e){
                         JOptionPane.showMessageDialog(null, e.getMessage());
                     }
                     
                    }
                }
            }
            
            catch(Exception e)
            {
                JOptionPane.showMessageDialog(null,e.getMessage());
            }
                      
            jList2.removeAll();
               
        }
        
            
    }//GEN-LAST:event_jButton15ActionPerformed

    private void jDateChooser10PropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_jDateChooser10PropertyChange
        // TODO add your handling code here:
    /*    SimpleDateFormat dcn = new SimpleDateFormat("yyyy-MM-dd");
        String date = dcn.format(jDateChooser10.getDate());
        jComboBox2.removeAllItems();
        fillCombo(date);*/
    }//GEN-LAST:event_jDateChooser10PropertyChange

    private void jTextField8ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField8ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField8ActionPerformed

    private void jTextField11ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField11ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField11ActionPerformed

    private void jTable4MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable4MouseClicked
        // TODO add your handling code here:
       /* int r = jTable2.getSelectedRow();
        
        String drugn = jTable4.getValueAt(r,0).toString(); 
        
        try{
            String dc = "Select * from drugs where drugName = '"+drugn+"'";
            pst = conn.prepareStatement(dc);
            rs = pst.executeQuery();
            String drc = null;
            
            while(rs.next()){
                drc = rs.getString("drugCode");
            }
            
            String q4 = "Select * from buy where prescriptionNo = '"+jComboBox2.getSelectedItem()+"' and drugCode = '"+drc+"'";
            pst = conn.prepareStatement(q4);
            rs = pst.executeQuery();
            
            if(rs.next()){
               int days = rs.getInt("noOfDays");
               int mq = rs.getInt("mQty");
               int aq = rs.getInt("aQty");
               int nq = rs.getInt("nQty");
            }
            
            String q2 = "Select * from drugs where drugCode = '"+drc+"'";
            pst = conn.prepareStatement(q2);
            rs = pst.executeQuery();
            
            if(rs.next()){
                String dos1 = rs.getString("drugName");
                String arr[] = dos1.split(" ");
                String nm = arr[0];
                String dos = arr[1];
            }
            
            String chnm = rs.getString("chName");
            
             String q = "Select * from drugs where chName = '"+chnm+"' and drugName != '"+drugn+"'";
             pst = conn.prepareStatement(q);
             ResultSet rs2 = pst.executeQuery();
        }
        
        catch(Exception e){
            JOptionPane.showMessageDialog(null, e.getMessage());
        }*/
        
    }//GEN-LAST:event_jTable4MouseClicked

    private void jComboBox5ItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jComboBox5ItemStateChanged
        // TODO add your handling code here:
        String t = jComboBox5.getSelectedItem().toString();
        String q = "select *  from drugs where type = '"+t+"'";
        
        try{
            Connection con=DBconnect.getConnection();
            
            PreparedStatement pst=con.prepareStatement(q); 
            rs=pst.executeQuery();
            jTable2.setModel(DbUtils.resultSetToTableModel(rs));
           
        }
        catch(SQLException ex){
               JOptionPane.showMessageDialog(null, ex.getMessage());
        }
    }//GEN-LAST:event_jComboBox5ItemStateChanged

    private void jComboBox6ItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jComboBox6ItemStateChanged
        // TODO add your handling code here:
        String t = jComboBox5.getSelectedItem().toString();
        String q = "select *  from orders where status = '"+t+"'";
        
        try{
            Connection con=DBconnect.getConnection();
            
            PreparedStatement pst=con.prepareStatement(q); 
            rs=pst.executeQuery();
            jTable3.setModel(DbUtils.resultSetToTableModel(rs));
           
        }
        catch(SQLException ex){
               JOptionPane.showMessageDialog(null, ex.getMessage());
        }
    }//GEN-LAST:event_jComboBox6ItemStateChanged

    private void jButton9ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton9ActionPerformed
        // TODO add your handling code here:
        String no = jComboBox7.getSelectedItem().toString();
        HashMap param = new HashMap();
        param.put("pNo",no);
        
        try{
            conn = DBconnect.getConnection();
            String report = "C:\\Users\\HP User\\Desktop\\itp\\ITPproject\\src\\phreport8.jrxml";
            JasperReport jr = JasperCompileManager.compileReport(report);
            JasperPrint jp = JasperFillManager.fillReport(jr, param, conn);
            JasperViewer.viewReport(jp,false);
            
        }
        catch(Exception e){
            JOptionPane.showMessageDialog(null, e.getMessage());
        }
       
        
    }//GEN-LAST:event_jButton9ActionPerformed

    private void jButton11ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton11ActionPerformed
        // TODO add your handling code here:
      //  Date d = new Date(System.currentTimeMillis());
        
      //  System.out.println(d);
      try{
            conn = DBconnect.getConnection();
            String report = "C:\\Users\\HP User\\Desktop\\itp\\ITPproject\\src\\phreport8.jrxml";
            JasperReport jr = JasperCompileManager.compileReport(report);
            JasperPrint jp = JasperFillManager.fillReport(jr, null, conn);
            JasperViewer.viewReport(jp,false);
            
        }
        catch(Exception e){
            JOptionPane.showMessageDialog(null, e.getMessage());
        }
       
       
    }//GEN-LAST:event_jButton11ActionPerformed

    private void jButton17ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton17ActionPerformed
        // TODO add your handling code here:
        jTextField10.setText("");
           jTextField4.setText("");
           jTextField19.setText("");
           jComboBox4.setSelectedItem("Liquid");
           jTextField6.setText("");
           jTextField9.setText("");
           jTextField14.setText("");
           jComboBox3.setSelectedItem("----");
           jTextField20.setText("");
           jDateChooser1.setDate(null);
           jDateChooser2.setDate(null);
    }//GEN-LAST:event_jButton17ActionPerformed

    private void jButton18ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton18ActionPerformed
        // TODO add your handling code here:
        DefaultCategoryDataset dataset = new DefaultCategoryDataset();
        
        try{
           String q = "Select * from drugs";
           pst = conn.prepareStatement(q);
           rs = pst.executeQuery();
           
           while(rs.next()){
               dataset.setValue(rs.getInt("totQty"), "Quantity ", rs.getString("drugName"));
           }
           
           JFreeChart chart = ChartFactory.createBarChart("Current inventory analysis", "Drug_Name", "Quantity", dataset, PlotOrientation.VERTICAL, false, true, false);
           CategoryPlot p = chart.getCategoryPlot();
           p.setRangeGridlinePaint(Color.black);
           ChartFrame frame = new ChartFrame("Bar Chart",chart);
           frame.setVisible(true);
           frame.setSize(750,1000);
        }
        
        catch(Exception e){
            JOptionPane.showMessageDialog(null, e.getMessage());
        }
    }//GEN-LAST:event_jButton18ActionPerformed

    private void jButton19ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton19ActionPerformed
        // TODO add your handling code here:
           jTextField4.setText("Neoral");
           jTextField19.setText("Cyclosporine");
           jComboBox4.setSelectedItem("Capsule");
           jTextField6.setText("Astron Ltd");
           jTextField9.setText("52.00");
           jTextField14.setText("100");
           jComboBox3.setSelectedItem("----");
           jTextField20.setText("");
           jDateChooser1.setDate(null);
           jDateChooser2.setDate(null);
    }//GEN-LAST:event_jButton19ActionPerformed

   
    

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton10;
    private javax.swing.JButton jButton11;
    private javax.swing.JButton jButton12;
    private javax.swing.JButton jButton13;
    private javax.swing.JButton jButton14;
    private javax.swing.JButton jButton15;
    private javax.swing.JButton jButton17;
    private javax.swing.JButton jButton18;
    private javax.swing.JButton jButton19;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JButton jButton5;
    private javax.swing.JButton jButton6;
    private javax.swing.JButton jButton7;
    private javax.swing.JButton jButton9;
    private javax.swing.JComboBox<String> jComboBox1;
    private javax.swing.JComboBox<String> jComboBox2;
    private javax.swing.JComboBox<String> jComboBox3;
    private javax.swing.JComboBox<String> jComboBox4;
    private javax.swing.JComboBox<String> jComboBox5;
    private javax.swing.JComboBox<String> jComboBox6;
    private javax.swing.JComboBox<String> jComboBox7;
    private com.toedter.calendar.JDateChooser jDateChooser1;
    private com.toedter.calendar.JDateChooser jDateChooser10;
    private com.toedter.calendar.JDateChooser jDateChooser2;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel36;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel38;
    private javax.swing.JLabel jLabel39;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel40;
    private javax.swing.JLabel jLabel41;
    private javax.swing.JLabel jLabel42;
    private javax.swing.JLabel jLabel43;
    private javax.swing.JLabel jLabel44;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JList<String> jList1;
    private javax.swing.JList<String> jList2;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel11;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JScrollPane jScrollPane6;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JTable jTable1;
    private javax.swing.JTable jTable2;
    private javax.swing.JTable jTable3;
    private javax.swing.JTable jTable4;
    private javax.swing.JTextField jTextField1;
    private javax.swing.JTextField jTextField10;
    private javax.swing.JTextField jTextField11;
    private javax.swing.JTextField jTextField12;
    private javax.swing.JTextField jTextField13;
    private javax.swing.JTextField jTextField14;
    private javax.swing.JTextField jTextField15;
    private javax.swing.JTextField jTextField16;
    private javax.swing.JTextField jTextField17;
    private javax.swing.JTextField jTextField18;
    private javax.swing.JTextField jTextField19;
    private javax.swing.JTextField jTextField2;
    private javax.swing.JTextField jTextField20;
    private javax.swing.JTextField jTextField3;
    private javax.swing.JTextField jTextField4;
    private javax.swing.JTextField jTextField5;
    private javax.swing.JTextField jTextField6;
    private javax.swing.JTextField jTextField7;
    private javax.swing.JTextField jTextField8;
    private javax.swing.JTextField jTextField9;
    // End of variables declaration//GEN-END:variables
}
